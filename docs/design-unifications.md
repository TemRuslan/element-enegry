# Дизайн-унификации (Design System)

Этот документ фиксирует принятые унификации дизайна и правила их применения, чтобы:
- карточки выглядели консистентно на всех страницах;
- параметры можно было менять в одном месте;
- новые унификации добавлялись предсказуемо и без «расползания» по разметке.

## Токены

Токены хранятся в `css/styles.css` в `:root`.

| Токен | Значение | Назначение | Источник |
| --- | --- | --- | --- |
| `--radius-card` | `15px` | Единый радиус скругления карточек/панелей | Карточки на странице `/projects/index.html` |
| `--motion-card-hover-duration` | `0.4s` | Длительность hover-анимации карточек | Hover карточек на `/projects/index.html` |
| `--motion-card-hover-ease` | `cubic-bezier(0.4, 0, 0.2, 1)` | Кривая плавности hover-анимации карточек | Hover карточек на `/projects/index.html` |
| `--card-hover-translate-y` | `-2.5px` | Подъем карточки при наведении | Hover карточек на `/projects/index.html` |
| `--card-hover-border-color` | `rgba(14, 165, 233, 0.18)` | Цвет бордера при наведении | Hover карточек на `/projects/index.html` |
| `--card-hover-shadow` | `0 16px 34px rgba(14, 165, 233, 0.075)` | Тень при наведении | Hover карточек на `/projects/index.html` |
| `--glass-card-hover-bg` | `rgba(255, 255, 255, 0.82)` | Фон glass-карточек при наведении | Hover карточек на `/projects/index.html` |

## Хлебные крошки (Breadcrumbs)

Хлебные крошки добавляются **автоматически** скриптом `js/script.js` на всех страницах, кроме `index.html`.

### Размещение

- По умолчанию хлебные крошки вставляются **перед первым `h1`** на странице.
- Если `h1` отсутствует: хлебные крошки вставляются в `.page-light` перед `main` (или сразу после декоративных blobs).

### Структура

Ожидаемая структура в DOM (создается автоматически, либо нормализуется для уже существующей разметки):

- `nav.ui-breadcrumbs`
- `ol[aria-label="breadcrumbs"].ui-breadcrumbs__list`

Разделители реализуются как `li` с текстом `/` и `aria-hidden="true"`.

### Токены (настройка внешнего вида)

Токены хлебных крошек находятся в `css/styles.css` в `:root`:

- `--breadcrumbs-font-size`
- `--breadcrumbs-font-weight`
- `--breadcrumbs-letter-spacing`
- `--breadcrumbs-color`
- `--breadcrumbs-sep-color`
- `--breadcrumbs-gap`
- `--breadcrumbs-mb`
- `--breadcrumbs-mb-lg`
- `--breadcrumbs-mt-lg`

### Особые страницы

- Страницы отраслей (`industries/...`):
  - `industries/<отрасль>/index.html`: `Главная / Отрасль / <отрасль>`
  - `industries/<отрасль>/<страница>.html`: `Главная / Отрасль / <отрасль> / <страница>`
  - Названия отраслей берутся из маппинга в `js/script.js` (обновляем там при добавлении новых папок/страниц).
- Статьи блога (`/blog/*.html`): `Главная / Блог / <название статьи>`; последний элемент имеет `id="articleBreadcrumbTitle"`, чтобы `js/blog_stream.js` мог обновлять заголовок при смене статьи.
- Кейсы проектов (любые страницы с `body[data-project]`): `Главная / Проекты / <название проекта>`; последний элемент имеет `id="projectBreadcrumbTitle"` для `js/projects_stream.js`.

### Отключение (редкие исключения)

Чтобы отключить автодобавление на конкретной странице, добавьте атрибут:

- `data-breadcrumbs="off"` на `<body>`

## Правила применения

### 1) Карточки на базе `.glass-card`

Используйте класс `.glass-card` для «стеклянной» карточки. Радиус и hover-анимация берутся из токенов.

Если карточке нужен нестандартный фон (например, градиент), не делайте отдельные `:hover`-анимации.
Вместо этого переопределяйте переменные:
- `--card-bg` (фон в обычном состоянии)
- `--card-bg-hover` (фон при наведении)

### 2) Панели/карточки вне `.glass-card`

Для любых контентных панелей/карточек (обычно `div/article/section/form/aside/p`) с фоном/границей/тенью:
- добавляйте класс `ui-card` (он применяет `border-radius: var(--radius-card)` и унифицированный hover),
- не используйте `rounded-2xl`/`rounded-3xl` на внешнем контейнере карточки.

Если нужна унифицированная hover-анимация, но радиус задается отдельно (например, `rounded-[40px]`), используйте `ui-hover`.

Это нужно, чтобы радиус и hover-поведение задавались централизованно и не зависели от Tailwind-классов в разметке.

## Исключения (пока не унифицируем радиус через `--radius-card`)

- Кнопки и ссылки-кнопки (`a`, `button`) и их размеры (`rounded-xl`, `rounded-2xl` и т.п.).
- Контролы формы (`input`, `select`, `textarea`).
- Бейджи/пилюли (`rounded-full`) и мелкие чипы.
- Малые «икон-боксы» (например, `w-12 h-12 ... rounded-2xl`).
- Скругления на изображениях (`img`) внутри карточек (это отдельная унификация, если понадобится).

Также избегаем «мультяшных» эффектов на карточках:
- вращение (`rotate(...)`) на hover,
- агрессивный зум (`scale(1.05+)`) на hover.

## Чеклист: как добавить новую карточку

1. Если нужен glass-стиль: используйте `.glass-card` (радиус уже токенизирован).
2. Если карточка/панель собирается Tailwind-классами: добавьте `ui-card` и не используйте `rounded-2xl/rounded-3xl` на внешнем контейнере.
3. Если кажется, что карточкам нужен другой радиус: сначала обсуждаем новый токен/правило, а не «точечный» `border-radius` в одном месте.
